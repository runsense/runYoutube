/*! * Runsense 97Kafr * MixYoutube * Copyright 2018, Dalleau Pascal * */var done=false;try{var bm=false;var srcmxpl=['specialhiphop','ile','luv','popRock','rnb','roots','newRoots','danceHall','rap','electro','video','97Kafr','reunion'];var srcsgq=['default','small','medium','large','hd720','hd1080','highres'];src=[{id:'roots',html:'<span title="Charge Playlist" ><a href="#mix_s" >roots</a></span>',value:'PLrwe0-1smC6xL233WdVGDdaCugFfd5cbW'},{id:'newRoots',html:'<span title="Charge Playlist" ><a href="#mix_s" >newRoots</a></span>',value:'PLrwe0-1smC6ySPPPHuiS8Zto7t5V46G_L'},{id:'danceHall',html:'<span title="Charge Playlist" ><a href="#mix_s" >danceHall</a></span>',value:'PLrwe0-1smC6yoRxfeKGPOpeFaEF6sK4nR'},{id:'luv',html:'<span title="Charge Playlist" ><a href="#mix_s" >luv</a></span>',value:'PLrwe0-1smC6yjAPZeG8-fQKbgxqVelz_O'},{id:'rnb',html:'<span title="Charge Playlist" ><a href="#mix_s" >rnb</a></span>',value:'PLrwe0-1smC6zwo4Y7O4XBl3cpFzpiMAkH'},{id:'rap',html:'<span title="Charge Playlist" ><a href="#mix_s" >rap</a></span>',value:'PLrwe0-1smC6xiPucN4OZ_Uu2pQ5fJz2uE'},{id:'electro',html:'<span title="Charge Playlist" ><a href="#mix_s" >electro</a></span>',value:'PLrwe0-1smC6w8At_JO2HcJdpucIqn6im1'},{id:'specialhiphop',html:'<span title="Charge Playlist" ><a href="#mix_s" >specialhiphop</a></span>',value:'PLrwe0-1smC6xH0EtS7-2W2K422EVR19bk'},{id:'Ile',html:'<span title="Charge Playlist" ><a href="#mix_s" >Ile</a></span>',value:'PLrwe0-1smC6xvoITpy0zzwirUm2D_4n3b'},{id:'video',html:'<span title="Charge Playlist" ><a href="#mix_s" >video</a></span>',value:'PLrwe0-1smC6y5pjwm9-yE5C3DLxwjoQk3'},{id:'popRock',html:'<span title="Charge Playlist" ><a href="#mix_s" >popRock</a></span>',value:'PLrwe0-1smC6zQc1MWqG-0lse5W7g3V5Lv'},{id:'97kafr',html:'<span title="Charge Playlist" ><a href="#mix_s" >97kafr</a></span>',value:'PLrwe0-1smC6zeAU3Yb9VPb2jjSf8hOWiI'},{id:'reunion',html:'<span title="Charge Playlist" ><a href="#mix_s" >reunion</a></span>',value:'PLrwe0-1smC6zGKsy0ggtEJWAQDaBC2n4i',selected:true}];var FI=FI||{};var FI={bPsync:true,bdo:false,bblck:false,bchg:false,basyn:true,bmix:false,idmxpl:'#mix_pl',idmute:'#mute',idsw:'#sw',idsgq:'#sgq',idmi:'#mix',idmp:'#mix_p',idms:'#mix_s',idasyn:"#asyn",idsync:"#sync",idplyr:'#player',sgq:'default',idtree:'#jqxTree',videoid:'',plyLstId:'PLrwe0-1smC6zGKsy0ggtEJWAQDaBC2n4i',plys:null,player:null,mix:null,tmpVid:[],h:0,w:0,tl:0,fact:1,uri:'',tmp:'',treeExp:function(ev){var args=ev.args;var elmt=args.element;var i=$(FI.idtree).jqxTree('getItem',elmt);if($(elmt).find("li").length<2){var val=i.value;TF.curi(val);var spl=i.label.split(' ');$(FI.idtree).jqxTree('addTo',{html:FI.uri},elmt);}$('#pop').removeClass('pop');$(FI.idms).addClass('anm_s');$(FI.idmp).addClass('anm_p');},treeSlc:function(ev){if(!FI.bdo){var a=ev.args;var e=a.element;var i=$(FI.idtree).jqxTree('getItem',e);var spl=i.label.split(' ');var pl=$(e).find("li").length;var pe=e.parentElement.parentElement;var pi=$(FI.idtree).jqxTree('getItem',pe);var bsmpl=true;var chd=$(e).find("li");if(pi!=null) if(pi.label!=$('#mix_pl').val()) bsmpl=false;var id=i.id;TF.i=spl[1];if(bsmpl){if(chd.length!=0){FI.videoid=i.value;if(FI.bPsync){FI.plys.playVideoAt(spl[1]);FI.mix.playVideoAt(spl[1]);}else{if(!FI.basyn) FI.plys.playVideoAt(spl[1]);else FI.mix.playVideoAt(spl[1]);}}else if(chd.length==0){$('#mix_pl').val(id);FI.plyLstId=i.value;done=false;FI.videoid='';FI.rchg();}}else {$('#mix_pl').val(pi.id);FI.plyLstId=pi.value;done=false;FI.videoid='';FI.rchg();}$(FI.idtree).jqxTree('expandItem',e);}},rchg:function(){$('#pop').addClass('pop');$(FI.idmp).addClass('anm_p');$(FI.idms).removeClass('anm_s');$(FI.idmute).jqxCheckBox('val',false);FI.mix.destroy();FI.plys.destroy();onYouTubeIframeAPIReady();},choPl:function(){if(FI.basyn) FI.player=FI.mix;else FI.player=FI.plys;try{$(FI.idms).jqxSlider('setValue',FI.player.getVolume());FI.player.setMute($(FI.idmute).jqxCheckBox('val'));}catch(e){;}},init:function(){var tag=document.createElement('script');tag.src="https://www.youtube.com/iframe_api";var firstScriptTag=document.getElementsByTagName('script')[0];firstScriptTag.parentNode.insertBefore(tag,firstScriptTag);},av:function(){TF.i=TF.i-1;done=false;FI.cmd();},ap:function(){TF.i=TF.i+1;done=false;FI.cmd();},cmd:function(){if(FI.bPsync){FI.mixReady();FI.opr();}else{if(FI.basyn) FI.mixReady();else FI.opr();}},opr:function(event){if(!done){FI.plys.loadPlaylist({list:FI.plyLstId,listType:'playlist',index:TF.i,startSeconds:1,suggestedQuality:FI.sgq});event.target.playVideo();}else FI.plys.playVideo();$('#lk ').addClass('smokVert');},mixReady:function(){FI.mix.loadPlaylist({list:FI.plyLstId,index:TF.i,listType:'playlist',suggestedQuality:FI.sgq});$('#lk ').addClass('smokVert');},mixChange:function(event){FI.choPl();var cfm=event.data;if(cfm==YT.PlayerState.PLAYING){try{var bmu=$(FI.idmute).jqxCheckBox('val');if(bmu) FI.mix.mute;}catch(e){;}}else if(cfm==3){var rplc='#'+FI.mix.getPlaylistIndex();$(FI.idtree).jqxTree('expandItem',$(rplc)[0]);$(FI.idtree).jqxTree('ensureVisible',$(rplc)[0]);}},errorP:function(e){var cfm=e.data;if(cfm==100) FI.player.nextVideo();},ops:function(event){FI.choPl();try{var cfm=event.data;if(cfm==YT.PlayerState.PLAYING&&!done){var arr=FI.plys.getPlaylist();var bmu=$(FI.idmute).jqxCheckBox('val');if(bmu) FI.plys.mute;add(arr);done=true;}else if(cfm==3){var rplc='#'+FI.plys.getPlaylistIndex();$(FI.idtree).jqxTree('expandItem',$(rplc)[0]);$('#jqxTree').jqxTree('ensureVisible',$(rplc)[0]);$('#pop').removeClass('pop');$(FI.idms).addClass('anm_s');$(FI.idmp).addClass('anm_p');}}catch(e){onYouTubeIframeAPIReady()}},dimTx:function(){FI.plys.getOptions('cc','fontSize','-1');FI.mix.getOptions('cc','fontSize','-1');}};if($(FI.idtree).css('width')==='100%'){bnm=true;}FI.init();FI.h=$(window).height();FI.w=$(window).width();FI.tl=$(window).width()*0.72;if(!bm){$(window).resize(function(){$(FI.idtree).animate({'height':(FI.h)});$(FI.idtree).animate({'width':(FI.w*0.3)});if(FI.plys!=null){FI.plys.setSize(FI.w*67/100,FI.h);}}).resize();}var TF=TF||{};var TF={bchk:false,bgrow:false,bms:true,i:0,arr:[],elmt:null,updBackG:"body",ptbid:['PLrwe0-1smC6xL233WdVGDdaCugFfd5cbW'],addPlus:function(){var i=TF.i;if(TF.arr[i]) $(FI.idtree).jqxTree('addTo',{id:i,label:'play '+i,value:TF.arr[i],items:[{id:'',label:' ',value:''}]},TF.elmt);TF.i=TF.i+1;},curi:function(id){FI.uri='<iframe id="'+id+'" sandbox="Access-Control-Allow-Origin allow-scripts" type="text/html" width="250" height="50"src="http://www.youtube.com/embed/'+id+'?autoplay=0&origin=http://runsense.re"frameborder="0" enablejsapi="1" />';},init:function(){var w=FI.w*30/100;if(!bm){w=FI.w;};$(FI.idtree).jqxTree({source:src,width:w,height:FI.h});$(FI.idsgq).jqxListBox({selectedIndex:0,source:srcsgq,width:90,height:50});$(FI.idmp).jqxSlider({showButtons:false,width:FI.w*0.09,min:0,max:2,ticksFrequency:0.25,value:1,step:0.25});$(FI.idms).jqxSlider({showButtons:false,width:FI.w*0.09,min:0,max:100,ticksFrequency:1,value:36,step:1});$(FI.idsw).jqxSwitchButton({height:27,width:81,checked:true});$(FI.idasyn).jqxCheckBox({width:25,height:25,checked:true});$('#pSync').jqxCheckBox({width:25,height:25,checked:true});$(FI.idmute).jqxCheckBox({width:25,height:25,checked:false});$(FI.idsync).jqxButton({width:FI.w*0.05,height:'20px'});$(FI.idmxpl).jqxInput({placeHolder: "",minLength: 1,source:srcmxpl,width:90,height:25});$(FI.idmxpl).on('close',function(e){$(FI.idmxpl).val(e.args.value);});$(FI.idmxpl).change(function(){var v=this.value;if(!$.isNumeric(v)){if(FI.basyn) FI.bmix=true;var rplc='#'+v;$(FI.idtree).jqxTree('selectItem',$(rplc)[0]);$(FI.idtree).jqxTree('ensureVisible',$(rplc)[0]);FI.bmix=false;var rplc='#'+v;$('#jqxTree').jqxTree('selectItem',$(rplc)[0]);$(FI.idmp).jqxSlider('setValue',1);}});}};}finally{};onYouTubeIframeAPIReady=function(){var w=FI.w;FI.plys=new YT.Player('player',{height:FI.h,width:w*0.71,videoId:FI.videoid,events:{'onReady':FI.opr,'onStateChange':FI.ops,'onError':FI.errorP,'onApiChange':FI.dimTx}});FI.mix=new YT.Player('mix',{height:FI.h,width:FI.w*0.27,events:{'onReady':FI.mixReady,'onStateChange':FI.mixChange,'onError':FI.errorP,'onApiChange':FI.dimTx}});$(FI.idmp).jqxSlider('setValue',1);$(FI.idms).jqxSlider('setValue',1);};TF.init();$('#jqxTree .jqx-tree-item').mouseenter(function(event){});$(FI.idtree).bind('select',function(ev){FI.treeSlc(ev);});$(FI.idtree).bind('expand',function(ev){FI.treeExp(ev);});$(FI.idmp).on('change',function(event){if(FI.basyn) FI.mix.setPlaybackRate(event.args.value);else FI.plys.setPlaybackRate(event.args.value);});$(FI.idsgq).on('select',function(event){if(FI.basyn) $(FI.idsw).on({checked:true});else $(FI.idsw).on({checked:false});if(FI.basyn) var a=event.args;if(a) FI.sgq=a.value;});$(FI.idms).on('change',function(event){if(FI.basyn) FI.mix.setVolume(event.args.value);else FI.plys.setVolume(event.args.value);});$('#dec').mouseenter(function(){var v;if(FI.basyn) v=FI.mix.getCurrentTime()-FI.plys.getCurrentTime();else v=FI.plys.getCurrentTime()-FI.mix.getCurrentTime(); $('#dec').val(v);});$(FI.idsw).on('checked',function (event){if(!FI.bchg){FI.player=FI.plys;FI.mix.setSize(FI.w*0.33,FI.h/2);FI.plys.setSize(FI.w*0.33,FI.h/2);$(FI.idplyr).animate({'left':FI.tl*1/3},{'top':FI.h/2},1008).delay(108);$(FI.idmi).animate({'left':FI.tl*1/3},504).delay(207);$('body').animate({'backgroundColor':'rgba(144,0,0,1)'}).delay(153);$(FI.idplyr).animate({'left':FI.tl},1008).delay(504);$(FI.idmi).animate({'left':'1px'},603).delay(306);FI.mix.setSize(FI.w*0.71,FI.h);FI.plys.setSize(FI.w*0.27,FI.h);}});$(FI.idsw).on('unchecked',function (event){if(!FI.bchg){FI.player=FI.mix;$(FI.idplyr).animate({'left':'1px'},1107).delay(180);$('body').animate({'backgroundColor':'rgba(0,0,1,1)'},504).delay(108);FI.plys.setSize(FI.w*0.71,FI.h);$(FI.idmi).animate({'left':FI.tl},2007).delay(360);FI.mix.setSize(FI.w*0.27,FI.h);}});$(FI.idmute).bind('change',function(event){if(FI.basyn) FI.player=FI.mix;if(event.args.checked) FI.player.mute();else FI.player.unMute();});$(FI.idasyn).bind('change',function(event){var a=event.args;if(a.checked) FI.basyn=true;else FI.basyn=false;FI.choPl();if(FI.player.isMuted()) $(FI.idmute).jqxCheckBox('val',true);else $(FI.idmute).jqxCheckBox('val',false);$(FI.idms).jqxSlider('setValue',FI.player.getVolume());$(FI.idmp).jqxSlider('setValue',FI.player.getPlaybackRate());});$('#pSync').bind('change',function(e){FI.bPsync=e.args.checked;});$(FI.idsync).on('click',function(){var valm=FI.mix.getCurrentTime();var valp=FI.plys.getCurrentTime();var dec=$('#dec').val()-2;if(valm>valp){valm=valp;FI.mix.seekTo(valm+dec,true);FI.plys.seekTo(valm,true);}else{FI.plys.seekTo(valm+dec,true);FI.mix.seekTo(valm,true);}});addExt=function(listid){if(listid.split('http:').length>1){window.open(listid);}else{var ext=$('#add option:selected').text().replace(/ /g,'');$(FI.idtree).jqxTree('addTo',{id:ext,label:ext,value:listid});$('#add').val('Enter Playlist ID');ext='#'+ext;$(FI.idtree).jqxTree('selectItem',$(ext)[0]);}};add=function(arr){FI.bchg=true;TF.arr=arr;TF.i=1;var it=$(FI.idtree).jqxTree('getSelectedItem');var lg;if(it!=null){FI.mix.playVideo();var elmt=it.element;if($(elmt).find("li").length==0){$(FI.idtree).jqxTree('addTo',{id:0,label:'play '+0,value:arr[0],items:[{id:'',label:' ',value:''}]},elmt);TF.elmt=elmt;for(var i=1;i<=36;i=i+1) TF.addPlus();$(FI.idtree).jqxTree('addTo',{id:37,html:'<span title="runYoutube " ><a href="http://runsense.re/runYT.html" >More on runUoutube </a></span>',value:''},elmt);$('#dec').val(.36);$(FI.idtree).jqxTree('expandItem',elmt);var rplc='#'+0;$(FI.idtree).jqxTree('ensureVisible',$(rplc)[0]);}}$(FI.idtree).jqxTree('selectItem',null);FI.bchg=false;TF.i=0;};$(FI.idsw).jqxSwitchButton({checked:true});FI.player=FI.mix;